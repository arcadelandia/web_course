<!doctype html>
<title>How to change webpages after loading, using Javascript</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<p>
Once a webpage has been created using HTML and CSS, its appearance in
the screen will usually not change: the text in is text elements (paragraphs,
  headers, lists) will remain as is; the color of the text and backgrounds 
  will too; images, video, forms, tables the same; the CSS grid that
  we designed to put the elements in, will remain as well as shown. 
  The only way we saw where a given webpage could modify something
  related to its appearance was by using the '@media(...)' keyword in CSS
  to adapt the webpage to browser screens that were too small.
</p>
<p>
In some situations, modifying the content of the webpage is desirable: 
  for example, we may want to connect to some other
Internet webpage (e.g., our favorite news site), and grab some information
from it (e.g., breaking news) and print that information in some area of
our webpage; we may also want to do this periodically (e.g., each minute).
Or, we may want to allow the user to interact with the webpage in some
way: for example, using a button to allow the user to change the background color
of the webpage, or to add a paragraph with some information that the user has just written
in some textfield (like a post in Twitter), etc. Javascript is a language that is used for these
tasks involved in changing something in the webpage. These are sometimes 
called dynamic effects because they allow to change
the content and presentation of a webpage according to the logic that the
programmer wants. Webpages that use Javascript are thus sometimes
called dynamic webpages. In contrast, webpages that use just HTML and CSS are
called static webpages.
</p>
<p>
Javascript instructions are usually stored in text files with extension <b>js</b>.          
For example, a file named <b>example.js</b> would be a Javascript file.               
When we create an HTML file whose contents we will like to control                
via Javascript, we need to tell the browser the path to the 
Javascript file that we want to use, by means of the <b>script</b> element. Let's see
  with an example: take a look at the following webpage, written in a file named
  <b>exampleForAzu.html</b>, and which defines four buttons, one that should
  change the webpage background color to red when clicked on, another to change
  it to green, another to blue, and another to white:
<pre>
&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Azu is learning Javascript!&lt;/title&gt;
    &lt;script src="exampleForAzu.js" defer&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;input type='button' id="buttonForRed" value="Click here to change background to red"&gt;
    &lt;input type='button' id="buttonForGreen" value="Click here to change background to green"&gt;
    &lt;input type='button' id="buttonForBlue" value="Click here to change background to blue"&gt;
    &lt;input type='button' id="buttonForWhite" value="Click here to change background to white"&gt; 
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>
In the above HTML file, we declare the doctype (which indicates that we intend
to use standard HTML), then the html element that contains the whole webpage, and inside
it, two elements: the element head, and the element body.
The element head, which contains the elements that are not presented
to the user in the browser window under the menus ---the title, which goes into the tab near the
browser menu, and the script element that contains the information about which 
  Javascript file we want to use to control this HTML webpage.
  The element body contains everything that
will be shown to the user in the browser visualization area, and in this case it contains four
buttons. We gave a unique ID to each one: the first button has an id of <b>buttonForRed</b>, 
and on it we write the phrase "Click here to change background to red"; when the user clicks
on it, the background color of the entire webpage will turn to red; we will do that using the
Javascript file. The other three buttons are similar, but change color to green, blue, and white,
respectively ---white is also the default color of the background if we do not tell anything
at the respect to the browser.
</p>
<p>
In the head element, we use the element script to tell the browser which file contains
the Javascript code. In this example, it is a file named exampleForAzu.js; since we
just write its name, the browser will look for it in the same folder where the exampleForAzu.html
file is. If we had written <b>&lt;script src="folderABC/exampleForAzu.js"</b>, then the browser
would look for the exampleForAzu.js file inside a folder named folderABC, and the browser will look
for folderABC in the same folder as the exampleForAzu.html file.
</p>
<p>
The script element has opening and closing tags, without anything written between them. This is
different than what we saw with CSS files, which we referenced with the meta tag:
<b>&lt;meta rel="stylesheet" href="exampleForAzu.css"&gt;</b>. The meta tag does not have a closing
tag, in contrast with the <b>script</b> tag.
</p>
<p>
The script opening tag has the optional attribute <b>defer</b>. If the browser sees it, it will wait
(defer) until it finished downloading the entire HTML file before processing the Javascript file, rather
than process the Javascript file as soon as it sees the <b>script</b> tag; deferring the processing
of the Javascript file is in general is a good idea, because the sole purpose of the Javascript file
is to change the behavior of the elements defined inside the HTML file, so it is a good idea to let
the browser download the entire HTML file (and thus to know which elements we wrote inside the HTML file)
before it takes a look at the Javascript file, otherwise we may refer inside the Javascript file to
elements that have still not been downloaded, and that can confuse the browser.
</p>
<p>
 Now let's see how to write the Javascript file exampleForAzu.js. Let's start with 
  some Javascript vocabulary and grammar.
</p>




<p>
 In a Javascript file, the word <b>document</b> means the entire webpage (in lowercase).
 In Javascript, care should be taken to distinguish between lowercase and uppercase.
 The words document, <b>DOCUMENT</b>, <b>Document</b>, <b>dOcUmEnT</b>, etc., are all treated differently
 and only the word in lowercase refers to the whole document.
</p>
<p>
  Inside a Javascript file, in order to indicate something that is inside
  of something else, a dot is used. Let's see with an example: the 
  word <b>getElementById</b> instructs the browser to find, inside 
  the HTML file, an HTML element that you assigned an ID to (as we saw, this is done with 
  the id attribute, like in <b>&lt;p id="zamora"&gt;</b>).
 You need to provide the id inside quotes and inside parentheses, in this way:
 <b>document.getElementById("holaazu")</b> which means to      
 grab the whole HTML file (indicated by the word <b>document</b>), 
  go inside it (indicated by the dot) and get the element whose 
 id is holaazu (the getElementById). If that element does         
 not exist, then the browser will not find anything, and thus it will not 
 do anything later with it. Otherwise, it will do whatever we indicate later in the
 Javascript file.
</p>
<p>
 Let's use another example: imagine that we want to create a webpage with three               
 buttons:     
 <ul> 
 <li> one button whose id we choose to be <b>redbutton</b>, that has the text 'Click here to change to red'      
    written on it and that, when the user clicks on it, the background color of the           
    entire webpage changes to red.                                              
   </li>
 <li> one button whose id we choose to be <b>greenbutton</b>, that has the text 'Click here to change to green'  
    written on it and that, when the user clicks on it, the background color of the           
    entire webpage changes to green.                                            
   </li>
 <li> one button whose id we choose to be <b>bluebutton</b>, that has the text 'Click here to change to blue'    
    written on it and that, when the user clicks on it, the background color of the           
    entire webpage changes to blue.                                             
  </li>
 </ul>

<p>
 When the browser loads a webpage, the background color is usually white, because                    
 that is color that most browsers use by default. Thus, we will use these three            
 buttons to change the background color of the webpage. In order to tell the                   
 browser to change the background color to red when a user clicks it,           
 we write in the Javascript file as follows:                                    
  </p>
<pre>                                                                              
Document.getElementById("redbutton").onclick = change_to_red_background;        
function change_to_red_background() {                                           
  Document.body.style.backgroundColor = "red";                                  
}   
</pre>
 In Javascript, lines that have equal signs (called assignments) usually
 end in a semicolon; it is optional, but it is recommended practice to
 write it. Javascript is a case sensitive language: the word document, which
 means the webpage, is not the same as the word Document, or DOCUMENT, or other
 variations, which do not have any predefined meaning in the language. Care
 should be taken when writing Javascript programs regarding the case of the words,
 because it is a common source of errors.
     
 The first line has an equal sign. Lines with an equal sign are                 
 easier to understand by reading the left part backwards, and then              
 the right part. So, in this example, we can read that line as:                 
 when the user clicks (indicate via the word 'onclick', which is a              
 special word in the Javascript language that means 'a user clicks')            
 on the element whose id is redbutton (indicated via the word getElementById    
 and the label 'redbutton' that we freely assigned to the button inside         
 the html file) inside the webpoage (indicated via the word Document, which     
 means the webpage in Javascript), then execute the instruction named           
 change_to_red_background, which is a name that we just invented. This          
 invented name is called a function, and it basically is a series of            
 Javascript sentences that we need to create in order to do whatever            
 it is that we want to do when the user clicks in the button: in this           
 case, it is changing the background color to red. We selected the              
 name change_to_red_background because it is expressive of what the             
 function does, which is the recommended way; however, it could have            
 any other name, like function123, or tonto_el_que_lo_lea, and it               
 would be correct as well. It is considered a good programming         
 practice to use names that are expressive of what the function does, and       
 that usually means using a verb followed by distinctive characteristics:       
 in this case: change_to_red_background. The choice of separating the           
 words via underscores is optional; each programmer has its own style:          
 an alternative option is camel case, like: changeToRedBackground. Use whatever       
 you prefer.                                
    
 In summary, the first line tells the browser "when a user clicks on the element         
 whose id is redbutton, do the instructions contained in the function           
 named change_to_red_background". So now, the only thing remaining is           
 to create that function and use to tell the browser to change the              
 page background color to red. That is done by the lines:                       
 function change_to_red_background()                                            
  document.body.style.backgroundColor = "red";                                  
 }                                                                              
 The first line tells Javascript that we are about to say what is exactly            
 the change_to_red_background function that we referenced before.               
 The function can be anywhere in the Javascript document, it does               
 not have to be following the line with the onclick isntruction.                
 The function is defined with the word function, then the name that             
 we selected, two parentheses that may not have anything between them,          
 or may have something (we will see that later), and then the function          
 instructions between braces {}. It is common to indent the instructions
 inside the function with respect to the line with the word function, and
 the closing brace is commonly put at the same level as the letter f in function.
 In our case, the function istructions is just a single one because             
 Javascript allows us to change the background of the webpage with              
 just a single instruction:                          
   document.body.style.backgroundColor = "red";                                    
 This line means that "red" will be the background color of the body            
 element of the HTML page (the body is the entire visible area                  
 of the webpage, and is indicated with the tag <body> in the HTML file,         
 although taht tag is optional, because the browser will act as if it           
 is written even if we do not write it).                       
                                      
 When working with functions in Javascript, it is important to know
 when to use parenthesis after the name, and when not. In general,
 if we need to indicate the name of the function, but not run it,
 we do not write the parentheses. When we need tio run it, or when we
 are defining it (i.e., describing the instructions that it does), we need
 the parentheses. For example, inside the line document.getElementById("redbutton").onclick = change_to_red_background;
 we are telling the browser which function will run once the user clicks, but we do not
 want to run it now, so the change_to_red_background name does not have parenthesis after it
 (this is, it is not change_to_red_background). In contrast, the line
 function change_to_red_background() {                                           
 does have parentheses after the function name because it defines the function. If, at some
 point in the Javascript file, we see change_to_red_background() somewhere, that means
 that we want the browser to execute the instructions inside the function in that precise
 moment (what is called to run the function). If, on the other hand, we see just change_to_red_background
     without parentheses, that means that we want to tell the browser something related to the
     function, but we do not want to run it in that moment.
     
 So imagine that we have an html file named "example.html" as follows:
 <pre>
 &lt;!doctype HTML&gt;                                                           
&lt;html&gt;                                                                    
&lt;head&gt;                                                                    
&lt;script src="backgroundcolor.js" defer&gt;&lt;/script&gt;                    
&lt;/head&gt;                                                                   
&lt;body&gt;                                                                    
&lt;input type='button' id="redbutton" value="Click here to change to red"&gt;  
&lt;input type='button' id="greenbutton" value="Click here to change to green"&gt;
&lt;input type='button' id="bluebutton" value="Click here to change to blue"&gt;
&lt;/body&gt;                                                                   
&lt;/html&gt;     
 </pre>
 and a Javascript file named "backgroundcolors.js" as follows:
 <pre>
 document.getElementById("redbutton").onclick = change_to_red_background;        
function change_to_red_background() {                                           
  document.body.style.backgroundColor = "red";                                  
}                                                                               
document.getElementById("greenbutton").onclick = change_to_green_background;    
function change_to_green_background() {                                         
  document.body.style.backgroundColor = "green";                                
}                                                                               
document.getElementById("bluebutton").onclick = change_to_blue_background;      
function change_to_blue_background() {                                          
  document.body.style.backgroundColor = "blue";                                 
}                                               
 </pre>
 
 It is interesting to see the effect of the word defer in the <b>script</b> tag
     in the HTML file. If we do not write it,
     and laod the html file, and try to use the buttons, we will see that they
     do not appear to have any effect. What happens is:
 1) the browser starts loading the html file: it processes the doctype line,
     and the html opening tag, and the head tag, and then the script tag with
     the src attribute telling it to load the backgroundcolor.js file and, since
     there is no defer attribute, it will process it right now before continuing
     with the next line of the HTML file (the one with the closing head tag)
 2) the Javascript file, in its first line, tells the browser to get the element whose
     id is redbutton, and do something to it (basically what we explained above: assign
     a function to be run when a user clicks). However, the browser still did not get
     to process the part of the HTML file that defines the button whose id is redbutton
     (because it is defined in an <b>input</b> tag that appears in the HTML file
     after the <b>script</b> tag that it is currently processing). Thus, the browser
     does not know what element is that, and as a result, it does not do anything.
     Then, it sees the definition of the function, and takes notice of it just in
     case it is used later somewhere (which in our example is not), then processes
     the element whose id is greenbutton, which cannot be found due to the same
     reason as redbutton, and then the same with bluebutton.
     
  So, if we do not write the attribute <b>defer</b> in the script tag of the
     javascript file, the buttons will not do anything, because the instructions
     that tell the browser what to do when the user clicks, run only once, when
     the script is loaded, and they run before the downloading of the entire HTML
     page is done. This is solved by using the word <b>defer</b>, whcih tells the
     browser to finish downloading the whole HTML file before processing the Javascript
     file; thus, the browser, when the webpage is loaded, or reloaded, will 
     read the line with the doctype, then the html and body tags, then the 
     line with the script tag (but will not process that script yet because it 
     has the defer attribute), then the closing head tag,, then the openingnbody tag,
     then the three buttons, and then the closing body and html tags, and then, and only then,
     it will process the Javascript script. Thus, since the browser has already seen
     the button definitions, when it processes the lines <b>document.getEleemnetById("redbutton").onclick = ...</b>
     it will already know what are those buttons, so the buttons will work as expected.

                                         
