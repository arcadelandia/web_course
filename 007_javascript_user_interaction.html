<!doctype html>
<title>How to change webpages after loading, using Javascript</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<p>
Once a webpage has been created using HTML and CSS, its appearance in
the screen will usually not change: the text in is text elements (paragraphs,
  headers, lists) will remain as is; the color of the text and backgrounds 
  will too; same for images, video, forms, tables; the CSS grid that
  we designed to put the elements in, will remain unaltered as well. 
  The only way we saw where a given webpage could modify something
  related to its appearance was by using the <b>@media(...)</b> keyword in CSS
  in order to adapt the webpage to browser screens that are too narrow by showing
  the cells of the design in a single line rather than in a matrix.
</p>
<p>
In some situations, modifying the content of the webpage is desirable: 
for example, we may want to connect periodically to some other
Internet webpage (e.g., our favorite news site), and grab some information
from it (e.g., the breaking news headlines) and print that information in some area of
our webpage. Or, we may want to allow the user to interact with the webpage in some
way: for example, using a button to allow the user to change the background color
of the webpage, or to add a paragraph with some information that the user has just written
in some textfield (like a post in Twitter), etc. Javascript is a language that is used for these
tasks involved in changing something in the webpage. These are sometimes 
called dynamic effects because they allow to change
the content and presentation of a webpage according to the logic that the
programmer wants. Webpages that use Javascript are thus sometimes
called dynamic webpages. In contrast, webpages that use just HTML and CSS are
called static webpages.
</p>
<p>
Javascript instructions are usually stored in text files with extension <b>js</b>.          
For example, a file named <b>example.js</b> would be a Javascript file.               
When we create an HTML file whose contents we want to control                
via Javascript, we need to tell the browser the path to the 
Javascript file that we want to use, by means of the <b>script</b> element. Let's see it
  with an example: take a look at the following webpage, written in a file named
  <b>exampleForAzu.html</b>. This file defines four buttons, one that should
  change the webpage background color to red when clicked on, another to change
  it to green, another to blue, and another to white:
<pre>
&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Azu is learning Javascript!&lt;/title&gt;
    &lt;script src="blabla.js" defer&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;input type='button' id="buttonForRed" value="Click here to change background to red"&gt;
    &lt;input type='button' id="buttonForGreen" value="Click here to change background to green"&gt;
    &lt;input type='button' id="buttonForBlue" value="Click here to change background to blue"&gt;
    &lt;input type='button' id="buttonForWhite" value="Click here to change background to white"&gt; 
  &lt;/body&gt;
&lt;/html&gt;
</pre>
<p>
In the above HTML file, we declare the doctype (which indicates that we intend
to use standard HTML), then the html element that contains the whole webpage, and inside
it, two elements: the element head, and the element body.
The element head, as we saw in previous lessons, contains the elements that are not presented
to the user in the browser main visualization area, under the browser menus: the title, which 
  will be shown in the tab, above the main visualization area, and a script element that contains the information about which 
  Javascript file we want to use to control this HTML webpage.
  The element <b>body</b> contains everything that
will be shown to the user in the browser main visualization area; in this example, it contains four
buttons. We gave a unique ID to each one: the first button has an id of <b>buttonForRed</b>, 
and on it we write the phrase "Click here to change background to red"; when the user clicks
on it, the background color of the entire webpage will turn to red; we will do that using the
Javascript file. The other three buttons are similar: one uses green, another blue, and the last one, white;
white is also usually the default color of the background when we open the webpage.
</p>
<p>
The element <b>script</b> tells the browser which file contains
the Javascript code. In this example, it is a file named <b>blabla.js</b>; since we
just write its name, the browser will look for it in the same folder where the <b>exampleForAzu.html</b>
file is.
If we had written <b>&lt;script src="folderABC/blabla.js"</b>, then the browser
would go into a folder named <b>folderABC</b> which should be in the same folder where the 
<b>exampleForAzu.html</b> file is, and there look for the <b>blabla.js</b> file.
If we had written <b>&lt;script src="../blabla.js"</b>, then the browser
would go into the folder above the one that has the <b>exampleForAzu.html</b>, and look
there for the <b>blabla.js</b> file.
If we had written <b>&lt;script src="../folderABC/blabla.js"</b>, then the browser
would go to the folder above the folder where the <b>exampleForAzu.html</b> file is, from there into
a folder named <b>folderABC</b>, and inside there it would look for the file named <b>blabla.js</b>.
</p>
<p>
The script element has opening and closing tags, without anything written between them. This is
different than what we saw with CSS files, which we referenced with the meta tag:
<b>&lt;meta rel="stylesheet" href="exampleForAzu.css"&gt;</b>. The meta tag does not have a closing
tag, in contrast with the <b>script</b> tag.
</p>
<p>
The script opening tag has the optional attribute <b>defer</b>. If the browser sees it, it will wait
(defer) until it finished downloading the entire HTML file before processing the Javascript file, rather
than process the Javascript file as soon as it sees the <b>script</b> tag; deferring the processing
of the Javascript file is in general is a good idea, because the sole purpose of the Javascript file
is to change the behavior of the elements defined inside the HTML file, so it is a good idea to let
the browser download the entire HTML file (and thus to know which elements we wrote inside the HTML file)
before it takes a look at the Javascript file, otherwise we may refer inside the Javascript file to
elements that have still not been downloaded, and that can confuse the browser.
</p>
<p>
 Now let's see how to write the Javascript file exampleForAzu.js. Let's start with 
  some <b>Javascript vocabulary and grammar</b>.
</p>
<ol>
  <li>
    The word <b>document</b> in lowercase means the entire webpage. Javascript, in contrast to HTML and CSS,
    is case sensitive: the words document, Document, dOcUmEnT, etc., are all different.
  </li>
  <li>
    A dot between two words without spaces ---like in <b>mibibicleta.manillar</b>---- means that whatever 
    is on the right is applied to whatever is on the left. In the example before, that means the thing called
    manillar that is found inside the thing called mibicicleta.
  </li>
  <li>
    The word <b>getElementById</b> followed by a string between parentheses, like in <b>getElementById("limonero")</b>
    means the HTML element that we have declared with id equal to limonero;for example, <b>&lt;p id="limonero"&gt;</b>
  </li>
  <li>
    The word <b>style</b> means the set of styling attributes of an HTML element, like color, background color, etc.; the
    ones that we saw in the CSS lessons.
  </li>
  <li>
    The word <b>backgroundColor</b> means the background color of some element. It is usually used jointly with the style keyword,
    like in <b>style.backgroundColor</b>
  </li>
  <li>
    The word <b>innerHTML</b> means the HTML code that we write inside an element. For example, if we have 
    a paragraph written like this: <b>&lt;p&gt;Hola caracola&lt;/p&gt;</b>,
    then its innerHTML woul be <b>Hola caracola</b>.
  </li>
  <li>
    To change the value of an element, Javascript uses an equal sign followed by the new value for that element:
    <b>document.body.style.backgroundColor = "blue"</b>
  </li>
  <li>
    To append some text to a text element, Javascript uses a plus sign followed without spaces by an equal sign, followed by the text
    to be appended:
    <b>document.getElementById("parrafo") += " THE END."</b>
  </li>
  <li>
    Javascript is used to tell the browser to do something when a condition of some kind occurs: for example, if we
    want to do something like this: "when the user clicks in the button whose id is "pulsame", then
    change the color of the background of the webpage to blue, and the color of the font of all text to red,
    and also append the phrase <b>"Raro, muy raro." to the paragraph whose id is "parrafocastilla", and replace the text of the
    paragaph whose id is "parrafogalicia" for the phrase "Por la costa."
    The condition that needs to happen before the browser does all those actions is the button click. 
    A set of actions that we want to do one after the other is called a function. The Javascript programmer
    is free to choose a name for any function. A function is indicated by the name function, followed by
    the chosen name for the function, two parentheses, and the actions to be done written inside braces. It is usual
    to write one action per line, and to finish each action with a semicolon. An action can be written in several
    ways; for simple properties like changing a color, it is usually done with a equal sign and the value of the
    property, like:
    <pre>
    function cosas_que_hacer_al_pulsar_el_boton() {
      document.body.style.backgroundColor = blue;
      document.body.style.color = red;
      document.getElementById("parrafocastilla").innerHTML += "Raro, muy raro.";
      document.getElementById("parrafogalicia").innerHTML = "Por la costa.";
    }
    </pre>
    
  </li>
</ol>


<p>
 In a Javascript file, the word <b>document</b> means the entire webpage (in lowercase).
 In Javascript, care should be taken to distinguish between lowercase and uppercase.
 The words document, <b>DOCUMENT</b>, <b>Document</b>, <b>dOcUmEnT</b>, etc., are all treated differently
 and only the word in lowercase refers to the whole document.
</p>
<p>
  Inside a Javascript file, in order to indicate something that is inside
  of something else, a dot is used. Let's see with an example: the 
  word <b>getElementById</b> instructs the browser to find, inside 
  the HTML file, an HTML element that you assigned an ID to (as we saw, this is done with 
  the id attribute, like in <b>&lt;p id="zamora"&gt;</b>).
 You need to provide the id inside quotes and inside parentheses, in this way:
 <b>document.getElementById("holaazu")</b> which means to      
 grab the whole HTML file (indicated by the word <b>document</b>), 
  go inside it (indicated by the dot) and get the element whose 
 id is holaazu (the getElementById). If that element does         
 not exist, then the browser will not find anything, and thus it will not 
 do anything later with it. Otherwise, it will do whatever we indicate later in the
 Javascript file.
</p>
<p>
 Let's use another example: imagine that we want to create a webpage with three               
 buttons:     
 <ul> 
 <li> one button whose id we choose to be <b>redbutton</b>, that has the text 'Click here to change to red'      
    written on it and that, when the user clicks on it, the background color of the           
    entire webpage changes to red.                                              
   </li>
 <li> one button whose id we choose to be <b>greenbutton</b>, that has the text 'Click here to change to green'  
    written on it and that, when the user clicks on it, the background color of the           
    entire webpage changes to green.                                            
   </li>
 <li> one button whose id we choose to be <b>bluebutton</b>, that has the text 'Click here to change to blue'    
    written on it and that, when the user clicks on it, the background color of the           
    entire webpage changes to blue.                                             
  </li>
 </ul>
